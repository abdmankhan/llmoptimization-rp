<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.3.0 Chrome/140.0.7339.249 Electron/38.7.2 Safari/537.36" version="29.3.0">
  <diagram name="Paper vs Implementation" id="paper-vs-impl">
    <mxGraphModel dx="946" dy="710" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="1400" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#000000;labelBackgroundColor=#E6FFCC;" value="Research Paper Theory vs Code Implementation" vertex="1">
          <mxGeometry height="50" width="1200" x="400" y="10" as="geometry" />
        </mxCell>
        <mxCell id="paper-bg" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=4;fontColor=#000000;" value="" vertex="1">
          <mxGeometry height="1240" width="880" x="80" y="100" as="geometry" />
        </mxCell>
        <mxCell id="paper-title" parent="1" style="text;html=1;strokeColor=none;fillColor=#9673a6;fontColor=#000000;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=18;fontStyle=1" value="ðŸ“„ RESEARCH PAPER: &quot;Optimizing the Utilization of LLMs&quot;" vertex="1">
          <mxGeometry height="40" width="840" x="100" y="120" as="geometry" />
        </mxCell>
        <mxCell id="paper-s1-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="1. PROBLEM STATEMENT" vertex="1">
          <mxGeometry height="35" width="800" x="120" y="180" as="geometry" />
        </mxCell>
        <mxCell id="paper-s1-content" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=12;align=left;fontColor=#000000;" value="â€¢ Multiple LLM models with different costs and capabilities&#xa;  Example: GPT-4 ($0.06/1K tokens) vs GPT-3.5 ($0.002/1K tokens)&#xa;&#xa;â€¢ Same task can be done by cheap OR expensive model&#xa;&#xa;â€¢ Challenge: Maximize accuracy while minimizing total cost&#xa;&#xa;â€¢ Trade-off: Cost â†” Accuracy" vertex="1">
          <mxGeometry height="130" width="800" x="120" y="220" as="geometry" />
        </mxCell>
        <mxCell id="paper-s2-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="2. PROPOSED SOLUTION: ML-Based Predictor (MLBP)" vertex="1">
          <mxGeometry height="35" width="800" x="120" y="370" as="geometry" />
        </mxCell>
        <mxCell id="paper-s2-step1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontColor=#000000;" value="Step 1: Ground Truth Collection&#xa;â€¢ Sample N tasks&#xa;â€¢ Query ALL models for each task&#xa;â€¢ Record: model_i correctly classified task_j? (YES/NO)" vertex="1">
          <mxGeometry height="70" width="760" x="140" y="415" as="geometry" />
        </mxCell>
        <mxCell id="paper-s2-step2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontColor=#000000;" value="Step 2: Feature Extraction&#xa;â€¢ Task features: length, complexity, domain&#xa;â€¢ Model features: parameters, cost, capability" vertex="1">
          <mxGeometry height="55" width="760" x="140" y="495" as="geometry" />
        </mxCell>
        <mxCell id="paper-s2-step3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontColor=#000000;" value="Step 3: Train ML Predictor&#xa;â€¢ Input: (task, model) â†’ Features&#xa;â€¢ Output: P(model succeeds on task)&#xa;â€¢ Algorithm: Random Forest, XGBoost, Neural Net" vertex="1">
          <mxGeometry height="65" width="760" x="140" y="560" as="geometry" />
        </mxCell>
        <mxCell id="paper-s2-step4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontColor=#000000;" value="Step 4: Predict for New Tasks&#xa;â€¢ Given: new task + all models&#xa;â€¢ Predict: P(success) for each model&#xa;â€¢ Result: Probability matrix [N_tasks Ã— N_models]" vertex="1">
          <mxGeometry height="65" width="760" x="140" y="635" as="geometry" />
        </mxCell>
        <mxCell id="paper-s3-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="3. MULTI-OBJECTIVE OPTIMIZATION" vertex="1">
          <mxGeometry height="35" width="800" x="120" y="720" as="geometry" />
        </mxCell>
        <mxCell id="paper-s3-obj" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;align=left;fontStyle=1;fontColor=#000000;" value="Objective 1: Maximize Total Accuracy = Î£ P(model_i succeeds on task_i)&#xa;Objective 2: Minimize Total Cost = Î£ cost(model_i, task_i)&#xa;&#xa;Constraint: Assign exactly ONE model to each task" vertex="1">
          <mxGeometry height="75" width="760" x="140" y="765" as="geometry" />
        </mxCell>
        <mxCell id="paper-s3-algos" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;align=left;fontColor=#000000;" value="Multi-Objective Algorithms:&#xa;â€¢ NSGA-II (Non-dominated Sorting Genetic Algorithm)&#xa;â€¢ SPEA2 (Strength Pareto Evolutionary Algorithm)&#xa;â€¢ Random Search (baseline)" vertex="1">
          <mxGeometry height="75" width="760" x="140" y="850" as="geometry" />
        </mxCell>
        <mxCell id="paper-s3-result" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;align=left;fontColor=#000000;" value="Result: Pareto Front&#xa;â€¢ Set of non-dominated solutions&#xa;â€¢ Each point: (cost, accuracy) pair&#xa;â€¢ User picks based on budget/accuracy requirement" vertex="1">
          <mxGeometry height="75" width="760" x="140" y="935" as="geometry" />
        </mxCell>
        <mxCell id="paper-s4-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="4. EVALUATION METRICS" vertex="1">
          <mxGeometry height="35" width="800" x="120" y="1030" as="geometry" />
        </mxCell>
        <mxCell id="paper-s4-metrics" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=11;align=left;fontColor=#000000;" value="â€¢ IGD (Inverted Generational Distance): How close to reference Pareto front?&#xa;  Lower is better. 0 = perfect match.&#xa;&#xa;â€¢ Î” (Delta): How evenly spread are solutions on Pareto front?&#xa;  Lower is better. Good coverage of tradeoffs.&#xa;&#xa;â€¢ Mâ‚™ (Number of solutions): How many options does user have?&#xa;  Higher is better. More choices." vertex="1">
          <mxGeometry height="120" width="760" x="140" y="1075" as="geometry" />
        </mxCell>
        <mxCell id="paper-s5-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="5. BASELINE STRATEGIES" vertex="1">
          <mxGeometry height="35" width="800" x="120" y="1215" as="geometry" />
        </mxCell>
        <mxCell id="paper-s5-content" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=11;align=left;fontColor=#000000;" value="â€¢ Cheapest Model Only: Use GPT-3.5 for everything (low cost, low accuracy)&#xa;â€¢ Best Model Only: Use GPT-4 for everything (high cost, high accuracy)&#xa;â€¢ Random Assignment: Randomly assign models (baseline)&#xa;â€¢ Compare optimizers against these baselines" vertex="1">
          <mxGeometry height="80" width="760" x="140" y="1260" as="geometry" />
        </mxCell>
        <mxCell id="impl-bg" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=4;fontColor=#000000;" value="" vertex="1">
          <mxGeometry height="1240" width="880" x="1040" y="100" as="geometry" />
        </mxCell>
        <mxCell id="impl-title" parent="1" style="text;html=1;strokeColor=none;fillColor=#6c8ebf;fontColor=#000000;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=18;fontStyle=1" value="ðŸ’» CODE IMPLEMENTATION (My Project)" vertex="1">
          <mxGeometry height="40" width="840" x="1060" y="120" as="geometry" />
        </mxCell>
        <mxCell id="impl-s1-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="1. PROBLEM ADAPTATION" vertex="1">
          <mxGeometry height="35" width="800" x="1080" y="180" as="geometry" />
        </mxCell>
        <mxCell id="impl-s1-content" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=12;align=left;fontColor=#000000;" value="â€¢ Instead of multiple MODELS â†’ Use multiple PROMPTS&#xa;  simple (10 tokens), standard (25), fewshot_1 (50), fewshot_3 (90)&#xa;&#xa;â€¢ Same LLM (Ollama gemma3) with different instruction complexity&#xa;&#xa;â€¢ Dataset: HDFS logs (5,000 jobs) with anomaly labels&#xa;&#xa;â€¢ Trade-off: Cost (tokens) â†” Accuracy (detection rate)" vertex="1">
          <mxGeometry height="130" width="800" x="1080" y="220" as="geometry" />
        </mxCell>
        <mxCell id="impl-s2-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="2. MLBP IMPLEMENTATION: predictors/mlbp.py" vertex="1">
          <mxGeometry height="35" width="800" x="1080" y="370" as="geometry" />
        </mxCell>
        <mxCell id="impl-s2-step1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="create_training_data(jobs, prompts):&#xa;â€¢ Loop: 5000 jobs Ã— 4 prompts = 20,000 pairs&#xa;â€¢ For each pair: Call query_gemini(job, prompt) â†’ LLM prediction&#xa;â€¢ Compare with ground_truth â†’ label = 1 if correct, 0 if wrong&#xa;â€¢ Cache results to disk (results/ollama_cache/{hash}.json)" vertex="1">
          <mxGeometry height="90" width="760" x="1100" y="415" as="geometry" />
        </mxCell>
        <mxCell id="impl-s2-step2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="Feature Engineering (7 features):&#xa;â€¢ job[&quot;tokens&quot;], job[&quot;unique_tokens&quot;], job[&quot;has_error&quot;]&#xa;â€¢ prompt[&quot;tokens&quot;], prompt[&quot;id&quot;]&#xa;â€¢ job_tokens/prompt_tokens, job_tokens*prompt_tokens" vertex="1">
          <mxGeometry height="75" width="760" x="1100" y="515" as="geometry" />
        </mxCell>
        <mxCell id="impl-s2-step3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="train_predictor(X, y):&#xa;â€¢ Algorithm: XGBoost (400 estimators, depth=8, lr=0.05)&#xa;â€¢ Input: X (20000Ã—7), y (20000Ã—1)&#xa;â€¢ Output: Trained model&#xa;â€¢ Current accuracy: 79%, Target: 85%+" vertex="1">
          <mxGeometry height="80" width="760" x="1100" y="600" as="geometry" />
        </mxCell>
        <mxCell id="impl-s2-step4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="predict_probabilities(model, jobs, prompts):&#xa;â€¢ Predict for all (job, prompt) pairs&#xa;â€¢ Result: P(success) matrix [5000 Ã— 4]&#xa;â€¢ Used by optimizers to make decisions" vertex="1">
          <mxGeometry height="65" width="760" x="1100" y="690" as="geometry" />
        </mxCell>
        <mxCell id="impl-s3-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="3. MULTI-OBJECTIVE OPTIMIZATION: optimizers/" vertex="1">
          <mxGeometry height="35" width="800" x="1080" y="775" as="geometry" />
        </mxCell>
        <mxCell id="impl-s3-obj" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;align=left;fontStyle=1;fontFamily=Courier New;fontColor=#000000;" value="Maximize: total_accuracy = Î£ P(prompt_i succeeds on job_i)&#xa;Minimize: total_cost = Î£ prompt_tokens[i]&#xa;&#xa;Constraint: Each job assigned exactly one prompt" vertex="1">
          <mxGeometry height="75" width="760" x="1100" y="820" as="geometry" />
        </mxCell>
        <mxCell id="impl-s3-algos" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="Implemented Algorithms:&#xa;â€¢ random_search.py: 1000 random assignments&#xa;â€¢ nsga2.py: Pop=100, Gen=50 (BEST: IGD=0.0000)&#xa;â€¢ spea2.py: Archive-based, fitness sharing" vertex="1">
          <mxGeometry height="70" width="760" x="1100" y="905" as="geometry" />
        </mxCell>
        <mxCell id="impl-s3-result" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="evaluation/pareto.py:&#xa;â€¢ Extract non-dominated solutions&#xa;â€¢ Pareto front: ~40 solutions for NSGA-II&#xa;â€¢ visualization/plots.py: Generate plots" vertex="1">
          <mxGeometry height="70" width="760" x="1100" y="985" as="geometry" />
        </mxCell>
        <mxCell id="impl-s4-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="4. EVALUATION: evaluation/metrics.py" vertex="1">
          <mxGeometry height="35" width="800" x="1080" y="1075" as="geometry" />
        </mxCell>
        <mxCell id="impl-s4-metrics" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="compute_igd(pf, reference): Distance to reference Pareto front&#xa;  NSGA-II: 0.0000 âœ“ (perfect)&#xa;&#xa;compute_delta(pf): Spread of solutions&#xa;  Lower = better diversity&#xa;&#xa;compute_mn(pf): Count solutions on Pareto front&#xa;  NSGA-II: ~40 solutions" vertex="1">
          <mxGeometry height="120" width="760" x="1100" y="1120" as="geometry" />
        </mxCell>
        <mxCell id="impl-s5-title" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000;" value="5. BASELINE: evaluation/baseline.py" vertex="1">
          <mxGeometry height="35" width="800" x="1080" y="1260" as="geometry" />
        </mxCell>
        <mxCell id="impl-s5-content" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=11;align=left;fontFamily=Courier New;fontColor=#000000;" value="single_prompt_baseline(jobs, prompt, probabilities):&#xa;â€¢ Test 4 strategies: simple/standard/fewshot_1/fewshot_3 for ALL jobs&#xa;â€¢ Results: simple: 75.1%, standard: 77.7%, fewshot_1: 79.0%, fewshot_3: 84.1%&#xa;â€¢ Saved to: results/tables/baseline_results.csv" vertex="1">
          <mxGeometry height="80" width="760" x="1100" y="1305" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" edge="1" parent="1" source="paper-s1-content" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#9673a6;dashed=1;fontSize=14;fontStyle=1;fontColor=#000000;" target="impl-s1-content" value="Maps to">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow2" edge="1" parent="1" source="paper-s2-step3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#d6b656;dashed=1;fontSize=14;fontStyle=1;fontColor=#000000;" target="impl-s2-step3" value="Implements">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow3" edge="1" parent="1" source="paper-s3-algos" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#6c8ebf;dashed=1;fontSize=14;fontStyle=1;fontColor=#000000;" target="impl-s3-algos" value="Same algorithms">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow4" edge="1" parent="1" source="paper-s4-metrics" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#82b366;dashed=1;fontSize=14;fontStyle=1;fontColor=#000000;" target="impl-s4-metrics" value="Same metrics">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="diff-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=3;fontColor=#000000;" value="" vertex="1">
          <mxGeometry height="180" width="1000" x="500" y="1380" as="geometry" />
        </mxCell>
        <mxCell id="diff-title" parent="1" style="text;html=1;strokeColor=none;fillColor=#b85450;fontColor=#000000;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1" value="ðŸ” KEY DIFFERENCES: Paper vs Implementation" vertex="1">
          <mxGeometry height="35" width="960" x="520" y="1395" as="geometry" />
        </mxCell>
        <mxCell id="diff-table-header" parent="1" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontFamily=Courier New;fontColor=#000000;" value="Aspect            | Paper Theory              | Your Implementation" vertex="1">
          <mxGeometry height="25" width="920" x="540" y="1440" as="geometry" />
        </mxCell>
        <mxCell id="diff-row1" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Courier New;fontColor=#000000;" value="Models/Prompts    | Multiple LLMs             | Single LLM, 4 prompts" vertex="1">
          <mxGeometry height="20" width="920" x="540" y="1470" as="geometry" />
        </mxCell>
        <mxCell id="diff-row2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Courier New;fontColor=#000000;" value="Dataset           | General NLP tasks         | HDFS anomaly detection" vertex="1">
          <mxGeometry height="20" width="920" x="540" y="1493" as="geometry" />
        </mxCell>
        <mxCell id="diff-row3" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Courier New;fontColor=#000000;" value="LLM API           | OpenAI GPT-3.5/4          | Local Ollama (gemma3)" vertex="1">
          <mxGeometry height="20" width="920" x="540" y="1516" as="geometry" />
        </mxCell>
        <mxCell id="diff-row4" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Courier New;fontColor=#000000;" value="Cost measure      | $ per 1K tokens           | Token count (proxy)" vertex="1">
          <mxGeometry height="20" width="920" x="540" y="1539" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
